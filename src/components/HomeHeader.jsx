"use client";

import { useState, useEffect } from "react";

import { Button, Link } from "@nextui-org/react";

export default function HomeHeader() {
  const [top, setTop] = useState(true);

  // detect whether user has scrolled the page down by 10px
  const scrollHandler = () => {
    window.pageYOffset > 10 ? setTop(false) : setTop(true);
  };

  useEffect(() => {
    scrollHandler();
    window.addEventListener("scroll", scrollHandler);
    return () => window.removeEventListener("scroll", scrollHandler);
  }, [top]);

  return (
    <header
      className={`fixed w-full z-30 md:bg-opacity-90 rounded rounded-xl transition duration-300 ease-in-out ${
        !top ? "bg-white backdrop-blur-sm shadow-lg" : ""
      }`}
    >
      <div className="max-w-6xl mx-auto px-5 sm:px-6">
        <div className="flex items-center justify-between h-16 md:h-20">
          {/* Site branding */}
          <span className="w-32 md:w-40">
            <svg
              viewBox="0 0 250 60"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M20.7011 35.2901L24.4114 21.1867L25.1793 18.3845C25.9 15.7545 27.0072 13.2494 28.4632 10.9534L28.812 10.4035C29.331 9.58534 30.065 8.93026 30.9315 8.51206L31.5433 8.21669L31.5493 8.21738L31.5515 8.22317L30.6002 12.585L29.606 17.1437L27.0088 26.4518L24.4114 34.5379L22.3834 39.9708C22.0057 40.9824 21.492 41.9364 20.8568 42.8054L20.2357 43.6555L20.226 43.6687C20.1706 43.7446 20.0797 43.7849 19.9872 43.7746C19.8947 43.7642 19.8146 43.7047 19.7768 43.6186C19.4129 42.7886 19.3176 41.8634 19.5045 40.9752L20.7011 35.2901ZM36.7018 1.10063C37.486 0.602753 37.7778 0.48162 38.3383 0.242935C38.57 0.144227 38.8135 0.076019 39.0622 0.0399746L39.1582 0.0260892C39.5517 -0.0309017 39.953 0.00577562 40.3302 0.1332L40.9097 0.329009C41.1257 0.401998 41.3063 0.555554 41.4148 0.758513C41.603 1.11074 41.5083 1.54956 41.192 1.78991L40.6733 2.18441L38.993 3.30691L37.4272 4.34618L35.136 5.35836L33.9363 5.75666C33.5003 5.90146 33.0343 5.92762 32.585 5.83248C32.5598 5.82713 32.5433 5.80222 32.548 5.77646L32.5728 5.64473C32.6513 5.22758 32.8267 4.83545 33.0845 4.50082L33.6468 3.77138L34.907 2.49406C34.907 2.49406 35.7565 1.70058 36.7018 1.10063ZM62.4288 55.5554C62.5263 56.4883 62.5058 56.8073 62.4718 57.4224C62.4578 57.677 62.4115 57.9286 62.3343 58.1712L62.3045 58.2646C62.1828 58.6481 61.9743 58.9975 61.696 59.2853L61.2682 59.7274C61.1087 59.8922 60.8935 59.9894 60.666 59.9993C60.2712 60.0163 59.9235 59.7377 59.849 59.3443L59.7267 58.6985L59.468 56.6758L59.2327 54.7937L59.3395 52.2626L59.5122 50.9952C59.5752 50.5344 59.7562 50.0983 60.0375 49.7306C60.0532 49.71 60.0825 49.7059 60.1032 49.7218L60.2093 49.8019C60.5448 50.0563 60.8158 50.388 60.9993 50.7696L61.3998 51.6017L61.9798 53.3095C61.9798 53.3095 62.311 54.4315 62.4288 55.5554ZM2.84128 50.346C2.01629 49.921 1.76362 49.7299 1.27308 49.3658C1.07021 49.2154 0.88721 49.039 0.72853 48.8414L0.6674 48.7651C0.416507 48.4526 0.240874 48.085 0.154384 47.6918L0.0214867 47.0873C-0.0280583 46.8622 0.0088033 46.6262 0.124571 46.4273C0.32549 46.0824 0.745382 45.9386 1.11145 46.0896L1.71235 46.3373L3.52697 47.219L5.2122 48.0442L7.24823 49.5134L8.20295 50.3506C8.55002 50.6551 8.81215 51.0466 8.9631 51.4858C8.9716 51.5105 8.95897 51.5376 8.9347 51.5467L8.81055 51.593C8.41742 51.7397 7.99545 51.7894 7.57965 51.7375L6.67323 51.6247L4.94402 51.1877C4.94402 51.1877 3.8354 50.8582 2.84128 50.346ZM41.4383 24.6967L51.633 35.0054L53.643 37.0805C55.5297 39.0283 57.1165 41.2526 58.3502 43.6788L58.6455 44.2598C59.0853 45.1246 59.278 46.0963 59.202 47.0659L59.1485 47.7509L59.1447 47.7559L59.1388 47.7547L55.8878 44.7389L52.49 41.5867L45.8357 34.6526L40.2257 28.3298L36.598 23.8331C35.9225 22.9958 35.3643 22.0678 34.9393 21.0756L34.5235 20.1054L34.517 20.0903C34.48 20.0038 34.491 19.9038 34.5462 19.8278C34.6012 19.7518 34.692 19.7112 34.7845 19.7211C35.6755 19.8166 36.5138 20.1956 37.1793 20.8038L41.4383 24.6967ZM39.757 47.1269L25.9195 51.1668L23.1544 51.943C20.5591 52.6714 17.8705 52.9997 15.1789 52.9169L14.5343 52.8972C13.5751 52.8677 12.6431 52.5674 11.8432 52.0301L11.2783 51.6504L11.2758 51.6449L11.2796 51.6401L15.4581 50.22L19.8252 48.7358L29.0345 46.1986L37.21 44.2906L42.849 43.2545C43.899 43.0615 44.9703 43.0164 46.0325 43.1208L47.071 43.2226L47.0872 43.2242C47.18 43.2334 47.2608 43.2917 47.2998 43.3774C47.3385 43.463 47.3297 43.5631 47.2762 43.6404C46.7617 44.3839 46.0282 44.9434 45.181 45.2383L39.757 47.1269Z"
                fill="currentColor"
              />
              <path
                d="M91.75 21.2161C99.0625 21.2161 105.063 26.8321 105.063 33.7081C105.063 40.5841 99.1 46.2001 91.75 46.2001H84.625C83.35 46.2001 82.3375 45.2281 82.3375 44.0041C82.3375 42.7801 83.35 41.8081 84.625 41.8081H91.75C96.55 41.8081 100.488 38.1721 100.488 33.7081C100.488 29.2441 96.55 25.6081 91.75 25.6081H86.9125V37.2361C86.9125 38.4601 85.8625 39.4321 84.625 39.4321C83.35 39.4321 82.3375 38.4601 82.3375 37.2361V23.4121C82.3375 22.2241 83.35 21.2161 84.625 21.2161H91.75ZM115.204 21.1801C116.441 21.1801 117.491 22.1881 117.491 23.3761V43.9681C117.491 45.1921 116.441 46.1641 115.204 46.1641C113.929 46.1641 112.916 45.1921 112.916 43.9681V23.3761C112.916 22.1881 113.929 21.1801 115.204 21.1801ZM151.085 23.4481V23.6641L151.01 44.0401C150.973 44.9401 150.41 45.7681 149.51 46.0921C149.248 46.1641 148.985 46.2361 148.723 46.2361C148.085 46.2361 147.448 45.9841 146.998 45.4801L131.81 29.1721V41.8081L136.798 41.8441C138.073 41.8441 139.085 42.8161 139.048 44.0401C139.048 45.2641 138.035 46.2361 136.798 46.2361C136.76 46.2361 136.76 46.2361 136.76 46.2361L129.485 46.1641C129.41 46.1641 129.335 46.1641 129.26 46.1641C129.185 46.1281 129.11 46.1281 129.035 46.1281C128.96 46.1281 128.885 46.0921 128.81 46.0561C128.773 46.0561 128.698 46.0201 128.623 45.9841C128.548 45.9841 128.473 45.9121 128.398 45.8761C128.36 45.8761 128.285 45.8401 128.248 45.8041C128.173 45.7681 128.098 45.6961 128.023 45.6601C127.985 45.5881 127.948 45.5881 127.91 45.5161C127.835 45.4801 127.798 45.4081 127.723 45.3361C127.685 45.3001 127.648 45.2641 127.61 45.1921C127.573 45.1201 127.535 45.0481 127.498 44.9761C127.46 44.9041 127.423 44.8681 127.423 44.8321C127.348 44.7241 127.348 44.6521 127.31 44.5441C127.31 44.5081 127.273 44.4721 127.273 44.4361C127.235 44.2921 127.235 44.1481 127.235 43.9681V23.4121C127.235 22.5121 127.798 21.6841 128.698 21.3601C129.598 21.0361 130.573 21.2881 131.21 21.9721L146.435 38.3161L146.51 25.6081H141.673C140.435 25.6081 139.385 24.6361 139.385 23.4121C139.385 22.2241 140.435 21.2161 141.673 21.2161H148.798C149.398 21.2161 149.998 21.4681 150.41 21.8641C150.86 22.2961 151.085 22.8361 151.085 23.4481ZM179.981 22.6561C180.318 23.4841 180.056 24.4561 179.343 25.0681L171.356 31.9441L171.243 44.0401C171.243 45.2281 170.231 46.2001 168.956 46.2001C167.681 46.2001 166.668 45.2281 166.668 44.0041L166.818 30.9361C166.818 30.3241 167.081 29.7481 167.568 29.3161L171.843 25.6081H160.406C159.131 25.6081 158.118 24.6361 158.118 23.4121C158.118 22.2241 159.131 21.2161 160.406 21.2161H177.843C178.781 21.2161 179.606 21.7921 179.981 22.6561ZM204.472 41.8441C205.747 41.8441 206.76 42.8161 206.76 44.0401C206.76 45.2641 205.747 46.2361 204.472 46.2361H189.435C188.16 46.2361 187.147 45.2641 187.147 44.0401V23.4481C187.147 22.2241 188.16 21.2521 189.435 21.2521C190.672 21.2521 191.722 22.2241 191.722 23.4481V41.8441H204.472ZM233.123 22.2961C233.536 23.0161 233.536 23.8441 233.086 24.5281L224.386 38.3161V44.0041C224.386 45.1921 223.373 46.2001 222.136 46.2001C220.861 46.2001 219.848 45.1921 219.848 44.0041V37.7041C219.848 37.3081 219.961 36.9121 220.148 36.5521L227.086 25.5721H217.486L221.086 30.5761C221.798 31.5841 221.536 32.9521 220.523 33.6361C219.473 34.3201 218.048 34.0681 217.336 33.0961L211.223 24.6361C210.736 23.9521 210.661 23.0881 211.073 22.3681C211.448 21.6481 212.236 21.1801 213.098 21.1801H231.136C231.961 21.1801 232.748 21.6121 233.123 22.2961Z"
                fill="currentColor"
              />
            </svg>
          </span>

          {/* Desktop navigation */}
          <nav className="hidden md:flex md:grow">
            {/* Desktop sign in links */}
            <ul className="flex grow justify-end flex-wrap gap-5 items-center">
              <li>
                <Button
                  href="/login"
                  as={Link}
                  color="primary"
                  variant="solid"
                >
                  Login
                </Button>
              </li>
              <li>
              <Button
                  href="/register"
                  as={Link}
                  variant="solid"
                  className="btn text-white bg-gray-900 hover:bg-gray-800 w-full sm:w-auto"
                >
                  Register
                </Button>
              </li>
            </ul>
          </nav>

          {/* <MobileMenu /> */}
        </div>
      </div>
    </header>
  );
}
